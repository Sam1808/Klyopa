                                           -.  --
                                          -      :     -= Klyopa =-
                                         -        :.   
                                         -         :    
                                        .          .-  Скрип тестирования
             :.   -:.                  -.          .:  Интернет соединения
             :       :.                :            :
             :.        .-             -   -        - :
              :          .-  .-::....  ....:.:    -- -
              -.         - -..             .:--.-.:  -
               -.        :.                  ...:-- -.
                -       .-.           :*-..:. ..   ..
                ..     ..:            +: . -.  .  .
                ..   -::* :*::        ....-:-  .. -
                 --  .-:.: -.:-                ..:     Сервис предоставляется
                   -: .....-.   -  .:          ..-           OKKLA
                     -:-:-      .. -      -.  :..:      www.speedtest.net
                         .-.      ..      ..::. .-
                          .--     .:..... -..    -
                            :.----.     .--
                           -.     .-:::-.
************
## 1. Установка и использование

Скрипт написан на `python v.3`. Вы можете использовать скрипт на любой операционной системе через
интерпретатор `python3`.

### 1.1 Использование в среде Linux
 - убедитесь в доступности `python3`
 - рекомендуется разворачивать скрипт в виртуальном окружении python
 `python3 -m venv _имя_вашего_окружения`
 - скачайте код по [ссылке](https://github.com/Sam1808/Klyopa/archive/master.zip), распакуйте его
 - из под активированного виртуального окружения установите зависимости через pip

 `pip install -r requirements.txt`
 - запустите скрипт

 `python main.py`

### 1.2 Использование в среде Windows

Для удобства пользователей Windows, скрипт и все зависимости упакованы в один `exe` файл. Для запуска [скачайте файл](https://github.com/Sam1808/Klyopa/raw/master/windows/klyopa.zip) `zip` из папки `Windows` данного репозитория, распакуйте `zip` и запустите файл `exe`. Дополнительно никаких зависимостей устанавливать не надо.
При этом, в файл `exe` пакуется только стабильная версия.

*В некоторых случаях под Windows, после запуска скрипта закрывается окно консоли. Во избежание данной ошибки запустите `start.cmd` из архива.*

## 2. Описание и порядок работы
Сервис тестирования Интернет соединения основан на технологиях [OKKLA](www.speedtest.net).
Скрип прорабатывает следующие шаги:

  - определение текущего IP адреса, имени провайдера связи и локацию;
  - определение *наилучшего* сервера и проведение теста (алгоритм [OKKLA](www.speedtest.net))
  - определение списка *ближайших* серверов и проведение тестов (алгоритм [OKKLA](www.speedtest.net))
  - тесты co случайно выбранными серверами текущей локации
  - тесты co случайно выбранными серверами  по всему миру
  - генерация отчета в консоли и локального файла `report.html`

**ВАЖНО:**

  - скрипт работает только с прямым Интернет-соединением, нет поддержки прокси-серверов

******

*TODO*

  - покрыть код тестами
  - опеределить формат и наполненность отчетов
  - добавить возможность регулирования количества проводимых тестов
  - добавить тестирование узла оператора icmp запросами
  - добавить возможность активации Speedtest-mini(c) серверов для возможности тестирования каналов точка-точка
  - добавить время проведения тестов их продолжительность
  - улучшить алгоритм определения территориально удаленных серверов
